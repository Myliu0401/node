<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /* 
         
                 文件流:  内存数据和磁盘文件数据之间的流动
        
                          流:是指数据的流动,数据从一个地方缓缓的流动到另一个地方

                          流是有方向的: 
                                    可读流: 数据从源头流向内存(如:从硬盘里读取内容,一点一点流向内存)
                                    可写流: 数据从内存流向源头(如:向硬盘添加文件,一点一点流向硬盘)
                                    双工流: 数据即可从源头流向内存又可从内存流向源头

                          为什么需要流:         
                                  其他介质和内存的数据规模不一致(如:一下子从硬盘里取到的东西全部一起放到内存,内存吃不消)
                                  其他介质和内存的数据处理能力不一致(如：一下子将内存里的东西全部放到硬盘,因为硬盘速度慢,所以吃不消)
                                    

                          创建一个文件可读流,用于读取文件内容
                          fs.createReadStream(要读取文件的路径,配置对象)       执行这个函数相当于打开文件等待读取
                                                   配置对象参数可传可不传
                                                   配置对象里的属性: 
                                                             encoding:编码方式    默认为进制编码

                                                             start:起始字节

                                                             end:结束字节

                                                             autoClose:布尔值     是否文件读完后自动关闭  默认为true

                                                             highWaterMark:每次读取数量(默认读取64kb,相当于64*1024)   
                                                    如果配置对象中的 encoding 属性有值且是'utf-8',那么 highWaterMark属性的值就表示字符
                                                    如果 encoding属性值为null, 那么  highWaterMark属性的值 就表示字节数                
                                                                                    
                          这个 createReadStream函数会返回一个ReadStream对象。
                                                           这个对象里的属性:
                                                                   on函数,这个函数用于注册事件   
                                                                      传两个参数   第一个为事件名   第二个为处理函数
                                                                      事件名: 
                                                                            open     文件打开时触发        (文件被打开后触发)

                                                                            error    发生错误时触发       (文件不存在或数据流动时发生错误等等)

                                                                            close    文件被关闭后触发      
                                                                             可以通过ReadStream对象里的close方法手动关闭文件
                                                                             也可以文件读完后自动关闭文件,在配置对象中配置autoClose属性
                                                                             文件没关闭是删除不了的

                                                                            data    读取到一部分数据时触发一个,相当于每读取一次触发一次
                                                                                    只有注册data事件后,才会真正开始读取
                                                                                    执行 createReadStream函数相当于 打开文件等待读取
                                                                                    每次读取的数量按照 highWaterMark指定的数量
                                                                                    读取到的数据会传给处理函数

                                                                            end     所有数据读取完毕后触发


                                                                   close函数   执行该函数会强制关闭文件
                                                                   
                                                                   pause函数   执行该函数会暂停读取,并且会触发pause事件

                                                                   resume函数   执行该函数会恢复读取,并且会触发resume事件
                                          
                                    
                    
        */
    </script>
</body>
</html>