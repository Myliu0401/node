<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        /* 
                 回顾http请求     
                      分两种: 
                         普通模式: 也就是 发生请求  服务器发回响应   链接就结束
                             每次请求都要建立握手,结束要挥手 有点耗效率。

                         长链接模式: 发出请求 服务器发回响应后不会立即 挥手结束,要等着“还有没有事” 
                            实现长连接模式: 请求时在请求头中添加属性 Connection: keep-alive, 当服务器接收到请求头,
                               有这个属性时,会做出响应,在发回响应时在响应头中添加属性 Connection: keep-alive,告诉客户端ok,客户端就会稍等。
                               双方就会“稍等”,除非双方有一放断开链接,才会结束。或双方等太久会有一放断开链接。 
                        
                         一般服务器都是根据请求头有没有这个属性Connection: keep-alive来判断是否发回响应后就断开链接。


                TCP/IP 协议:握手和挥手,就是这个协议负责的。这个协议建立通道双方可以互换,怎么传都可以。除非有一方断开链接,才会结束。
        
                
                http协议是建立在这个TCP/IP协议基础上的,所以握手和挥手也就这个TCP/IP协议搞定的,http协议只是强制规定消息格式和模式。
        
                socket对象: 
                   就是一个特殊的文件,这个文件负责向网卡传输内容,这个文件也是一个双工流。
                   当向这个文件写入流内容时,发送数据给网卡,服务器发回响应也会给这个文件接收。
                   所有的计算机的通信都要 socket这个特殊文件来,只是有的协议会对这个socket进行管理。

                http协议规定了消息的格式,但是TCP/IP协议没有规定消息格式,所以http协议服务器只有收到请求的消息格式是http协议的格式,才会认得才会接收请求。
        
        
                执行end断开链接,是异步的所以会比较慢。

 
                TCP/IP 协议的服务端: 
                       每一次通道建立TCP/IP 协议的服务端就会产生一个socket对象负责与对应的通道的请求进行交互。

                       
            
        */
    </script>
</body>

</html>