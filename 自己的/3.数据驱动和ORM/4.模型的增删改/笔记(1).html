<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    /* 
                    
                          后端三层架构: 
                                 路由层 Route
                                 提供对外的API访问接口(如:搭一个服务器向前端提供请求接口)
                                   |
                                   |
                                 服务层 Service
                                 提供业务逻辑的支持(如:验证路由层接收的前端登录数据,路由层将接收到的数据给服务层进行验证处理等)
                                   |
                                   |
                                 数据访问层 DAO
                                 提供与数据库或其他持久设备的通信,通常为ORM
                                 (如:服务层进行处理验证通过后,给ORM,ORM操作数据库取数据等)


                          前端的模型层相当于数据访问层


                          模型类: 
                              **一个模型就是一张表,一个模型就是一个类**
                              模型的静态属性： ** 除了build函数,其他都是异步的且返回promise对象 **
                                    添加数据(记录)的方法:
                                        build方法    这个方法是向表中添加一个对象(也就是记录,也就是表中的行)
                                            参数一个配置对象: 对象里的属性名对应表中的属性,属性值自定义(将属性值添加到表中的对应属性)
                                            这个build方法是同步的
                                         该个方法会返回一个实例
                                              实例里的属性: 
                                                       save方法    这个方法是异步的且返回一个promise对象
                                                           这个方法的功能是将实例的数据存储到数据库中,同样后续处理函数的形参对象里也有很多属性的方法

                                        create方法   这个方法将上述的 build 方法和 save 方法合并为一起,
                                                    这个方法为异步的且返回promise对象,且带有一个实例,记录了添加的信息,
                                                    实例里有很多方法和属性,其中toJSON方法是得到添加成功的信息
                                            
                                          create方法传一个配置对象参数,跟build方法一样,
                                          但,这个方法会自动将数据添加在数据库。 

                                        后续处理函数形参对象(实例): 
                                                        toJSON方法是得到添加成功的信息
                                                        favoriteColor属性 为记录的默认值                       
                                                        删除数据(记录)的方法: 
                                                            destroy方法     会从数据库删除调用这个方法的模型,也就是记录
                                        
                                                        重新加载实例(更新记录)的方法:
                                                           reload方法      会重新更新数据库的调用这个方法的模型,也就是记录
                                                                    如: xxx.name = '1111'
                                                                        模型.reload()   数据库中这条记录的 name属性的值就会被改成 '1111d'     
                                        
                                        
                                         bulkCreate(数据数组)   数据数组里的每一项为对象
                                                     这个函数是往模型里添加一堆数据,每一条数据就是数据数组里的每一项对象
                                                     数据数据里的对象: 
                                                                  属性名对应数据库里的属性:属性值就是对应的属性的值 



                                    删除实例(记录)的方法:
                                         destroy(配置对象)      会根据配置对象里的属性来删除模型里的记录
                                              配置对象里的属性
                                                        where对象: 模型里的主键:主键的值
                                                    
                                   
                                    获取模型里的实例(记录)的方法:  
                                         filndByPk(模型里的id值也就是主键)    这个方法返回有这个参数id值的实例,也就是后续处理函数的那个形参对象
                                          这个是异步函数  返回promise对象   
                                   
                                    修改模型里的实例(记录)的方法: 
                                                   update(要修改的属性,配置对象)
                                                                 第一个参数 为对象,里面装着要修改的值和对应的属性
                                                                 第二个参数 为对象,对象里的属性: 
                                                                                         where对象: 模型里的主键:主键的值
                                                     会根据配置对象里的属性来找到记录进行修改                                    
                                                                                 
                                                     
                                                           


                                                    
        



                一个完整的系统,最重要的验证数据,一定在服务器:
                  因为前端代码全是公开的,可以在控制台直接越过验证,直接发送请求到服务器


                客户端的验证主要是:用户体验
                服务器的逻辑验证(业务逻辑层的验证):为了业务逻辑的完整性和安全性等
        
        
         */
  </script>
</body>

</html>